#include <stdlib.h>
#include <stdio.h>

struct cadastro{
  char nome[50], email[50];
  int CPF, telefone;
}cadastro[6];


int main(){
  int i;

  for (i = 0; i < 6; i++){
    printf("Cadastro %d:\n", i+1);
    printf("Digite o nome: ");
    setbuf(stdin, NULL);
    printf("Digite o email: ");
    scanf("%s", cadastro[i].email);
    printf("Digite o CPF: ");
    scanf("%d", &cadastro[i].CPF);
    printf("Digite o telefone: ");
    scanf("%d", &cadastro[i].telefone);
    fgets(cadastro[i].nome, 50, stdin);
  }

  FILE *ponteiro_para_arquivo = fopen("1157909.csv", "w");
  if (ponteiro_para_arquivo == NULL){
    perror("Erro na abertura do arquivo: ");
    exit(1);
  }
  int resultado;
  for (i = 0; i < 6; i++){
    resultado = fprintf(ponteiro_para_arquivo, "Cadastro %d - Nome: %sEmail: %s; CPF: %d; Telefone: %d\n", i+1, cadastro[i].nome,
    cadastro[i].email, cadastro[i].CPF, cadastro[i].telefone);
    if (resultado < 0)
       printf("Erro na escrita\n");
  }

  fclose(ponteiro_para_arquivo);
  
  system("pause");
  return 0;
}
