15) Elabore um programa para calcular e exibir o número de vezes que cada letra ocorre dentro de um arquivo texto. Ignore as letras com acento. 
O usuário deverá informar o nome do arquivo.

#include <stdlib.h>
#include <stdio.h>
#include <string.h>

char* criarStringComLetrasDoArquivo(FILE *arquivo){
  int i = 0, indice_da_string = 0;

  char caractere = fgetc(arquivo);
  while(caractere != EOF){
    if ((caractere >= 64 && caractere <= 90) || (caractere >= 97 && caractere <= 122))
       indice_da_string++;// número de letras no arquivo, será a quantidade de elementos da string
    caractere = fgetc(arquivo);
  }
  rewind(arquivo);// retorna o arquivo ao ponto inicial
                                             // letras + 1 ('\0')
  char *string_com_letras_do_arquivo = malloc((indice_da_string + 1) * sizeof(char));

  caractere = fgetc(arquivo);
  while(caractere != EOF){
    if ((caractere >= 64 && caractere <= 90) || (caractere >= 97 && caractere <= 122)){
      string_com_letras_do_arquivo[i] = caractere;
      i++;
    }
    caractere = fgetc(arquivo);
  }
  string_com_letras_do_arquivo[i] = '\0';

  rewind(arquivo);
  return string_com_letras_do_arquivo;
}

void ocorrenciaDaLetraNoArquivo(char caractere, char *string_com_letras_do_arquivo){
  int i, conta_ocorrencia_letra = 0;

  for (i = 0; i < strlen(string_com_letras_do_arquivo); i++){
    if (string_com_letras_do_arquivo[i] == caractere){
      conta_ocorrencia_letra++;
      string_com_letras_do_arquivo[i] = '.';
    }
  }
  if (conta_ocorrencia_letra > 0){
    printf("%c aparece no arquivo %d\n", caractere, conta_ocorrencia_letra);
  }

}

int main(){
  char nome_arquivo[50];
  printf("Digite o nome do arquivo: ");
  scanf("%s", nome_arquivo); // arquivo_para_leitura.txt
  FILE *arquivo = fopen(nome_arquivo, "r");
  if (arquivo == NULL){
    perror("Erro: ");
    exit(1);
  }

  char *string_com_letras_do_arquivo = criarStringComLetrasDoArquivo(arquivo);

  char caractere = fgetc(arquivo);
  while(caractere != EOF){
    if ((caractere >= 64 && caractere <= 90) || (caractere >= 97 && caractere <= 122)){
      ocorrenciaDaLetraNoArquivo(caractere, string_com_letras_do_arquivo);
    }
    caractere = fgetc(arquivo);
  }

  fclose(arquivo);
  free(string_com_letras_do_arquivo);

  return 0;
}
